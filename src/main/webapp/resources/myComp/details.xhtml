<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <cc:interface>
        <cc:attribute name="lable" required="true"/>
        <cc:attribute name="value" required="true"/>
        <cc:attribute name="itemsName" required="true"/>
        <cc:attribute name="entityName" required="true" />
    </cc:interface>
    <cc:implementation>            
        <p:dataTable id="table" value="#{cc.attrs.value}" var="i" emptyMessage="">
            <p:column headerText="#{cc.attrs.lable}">
                <p:selectOneMenu value="#{i}" filter="true" filterMatchMode="contains"
                                 style="width: 100%" 
                                 converter="omnifaces.SelectItemsConverter">
                    <f:selectItems value="#{controller.getSelections(cc.attrs.entityName, cc.attrs.lable)}"/>
                </p:selectOneMenu>
            </p:column>
            <p:column width="15">
                <p:fragment>
                    <p:commandLink title="#{msg.delete}" actionListener="#{controller.removeItem(cc.attrs.itemsName, i.toString())}" update="table globalMessages">
                        <i class="fa fa-remove"/>
                    </p:commandLink>
                </p:fragment>
            </p:column>
            <f:facet name="footer">
                <p:commandLink title="#{msg.add}" actionListener="#{controller.addItem(cc.attrs.itemsName)}" update="table globalMessages">
                    <i class="fa fa-plus"/>
                </p:commandLink>
            </f:facet>
        </p:dataTable>
    </cc:implementation>
</html>